"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[374],{1374:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ve});var r,a=n(5893),o=n(4611),i=n(4478),l=n(1150);!function(e){e.INCORRECT_USER_DATA="INCORRECT_USER_DATA",e.INCORRECT_AGE="INCORRECT_AGE",e.INCORRECT_COUNTRY="INCORRECT_COUNTRY",e.NO_DATA="NO_DATA",e.SERVER_ERROR="SERVER_ERROR"}(r||(r={}));var u,s=n(4268),c=(0,s.hg)("profile/fetchProfileData",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(i){switch(i.label){case 0:n=t.extra,r=t.rejectWithValue,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.api.get("/profile/".concat(e))];case 2:if(!(a=i.sent()).data)throw new Error;return[2,a.data];case 3:return o=i.sent(),console.log(o),[2,r("error")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{u(o.next(e))}catch(e){t(e)}}function l(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,l)}u((o=o.apply(n,r||[])).next())}));var n,r,a,o})),d=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.form},f=(0,s.hg)("profile/updateProfileData",(function(e,t){return n=void 0,a=void 0,i=function(){var e,n,a,o,i,l,u;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(s){switch(s.label){case 0:if(e=t.extra,n=t.rejectWithValue,a=t.getState,o=d(a()),(i=function(e){if(!e)return[r.NO_DATA];var t=e.first,n=e.lastname,a=e.age,o=e.country,i=[];return t&&n||i.push(r.INCORRECT_USER_DATA),a&&Number.isInteger(a)||i.push(r.INCORRECT_AGE),o||i.push(r.INCORRECT_COUNTRY),i}(o)).length)return[2,n(i)];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.api.put("/profile/".concat(null==o?void 0:o.id),o)];case 2:if(!(l=s.sent()).data)throw new Error;return[2,l.data];case 3:return u=s.sent(),console.log(u),[2,n([r.SERVER_ERROR])];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{u(i.next(e))}catch(e){t(e)}}function l(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,l)}u((i=i.apply(n,a||[])).next())}));var n,a,o,i})),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p.apply(this,arguments)},v=(0,s.oM)({name:"profile",initialState:{readonly:!0,isLoading:!1,error:void 0,data:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.validateErrors=void 0,e.form=e.data},updateProfile:function(e,t){e.form=p(p({},e.form),t.payload)}},extraReducers:function(e){e.addCase(c.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(c.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload})).addCase(c.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(f.pending,(function(e){e.validateErrors=void 0,e.isLoading=!0})).addCase(f.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload,e.readonly=!0,e.validateErrors=void 0})).addCase(f.rejected,(function(e,t){e.isLoading=!1,e.validateErrors=t.payload}))}}),h=v.actions,b=v.reducer,y=n(4809),g=n(6925),m=n(4002),x=n(71);!function(e){e.RUB="RUB",e.EUR="EUR",e.USD="USD"}(u||(u={}));var R=n(7294),O=n(4192),C=n(5910),E=n(6723),j=n(3855);function S(e,t){let[n,r]=(0,R.useState)(e),a=(0,j.E)(e);return(0,E.e)((()=>r(a.current)),[a,r,...t]),n}var T,N=n(3784),w=n(2351),P=n(2984),I=n(9362),k=n(1363),A=n(1497),U=n(4103),D=n(4575),L=n(6567),_=n(4157),z=n(7955),M=((T=M||{})[T.None=1]="None",T[T.Focusable=2]="Focusable",T[T.Hidden=4]="Hidden",T);let F=(0,w.yV)((function(e,t){let{features:n=1,...r}=e,a={ref:t,"aria-hidden":2==(2&n)||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}};return(0,w.sY)({ourProps:a,theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})}));function V(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))B(n,Q(t,r),a);return n}function Q(e,t){return e?e+"["+t+"]":t}function B(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())B(e,Q(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):V(n,t,e)}var G,Y,K=n(5466),W=n(3781),$=((Y=$||{})[Y.Open=0]="Open",Y[Y.Closed=1]="Closed",Y),H=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(H||{}),q=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(q||{}),J=((G=J||{})[G.OpenListbox=0]="OpenListbox",G[G.CloseListbox=1]="CloseListbox",G[G.SetDisabled=2]="SetDisabled",G[G.SetOrientation=3]="SetOrientation",G[G.GoToOption=4]="GoToOption",G[G.Search=5]="Search",G[G.ClearSearch=6]="ClearSearch",G[G.RegisterOption=7]="RegisterOption",G[G.UnregisterOption=8]="UnregisterOption",G);function Z(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=(0,D.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=n?r.indexOf(n):null;return-1===a&&(a=null),{options:r,activeOptionIndex:a}}let X={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:a}=e.propsRef.current,o=e.options.findIndex((e=>{let t=e.dataRef.current.value;return(0,P.E)(r,{1:()=>n.some((e=>a(e,t))),0:()=>a(n,t)})}));return-1!==o&&(t=o),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var n;if(e.disabled||1===e.listboxState)return e;let r=Z(e),a=(0,A.d)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(n=t.trigger)?n:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),o=a?e.options.indexOf(a):-1;return-1===o||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Z(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:a,mode:o,compare:i}=e.propsRef.current,l=t.dataRef.current.value;(0,P.E)(o,{1:()=>a.some((e=>i(e,l))),0:()=>i(a,l)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},8:(e,t)=>{let n=Z(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},ee=(0,R.createContext)(null);function te(e){let t=(0,R.useContext)(ee);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,te),t}return t}function ne(e,t){return(0,P.E)(t.type,X,e,t)}ee.displayName="ListboxContext";let re=R.Fragment,ae=(0,w.yV)((function(e,t){let{value:n,name:r,onChange:a,disabled:o=!1,horizontal:i=!1,multiple:l=!1,...u}=e;const s=i?"horizontal":"vertical";let c=(0,N.T)(t),d=(0,R.useReducer)(ne,{listboxState:1,propsRef:{current:{value:n,onChange:a,mode:l?1:0,compare:(0,W.z)(((e,t)=>e===t))}},labelRef:(0,R.createRef)(),buttonRef:(0,R.createRef)(),optionsRef:(0,R.createRef)(),disabled:o,orientation:s,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:f,propsRef:p,optionsRef:v,buttonRef:h},b]=d;p.current.value=n,p.current.mode=l?1:0,(0,E.e)((()=>{p.current.onChange=e=>(0,P.E)(p.current.mode,{0:()=>a(e),1(){let t=p.current.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),a(t)}})}),[a,p]),(0,E.e)((()=>b({type:2,disabled:o})),[o]),(0,E.e)((()=>b({type:3,orientation:s})),[s]),(0,z.O)([h,v],((e,t)=>{var n;b({type:1}),(0,D.sP)(t,D.tJ.Loose)||(e.preventDefault(),null==(n=h.current)||n.focus())}),0===f);let y=(0,R.useMemo)((()=>({open:0===f,disabled:o})),[f,o]),g={ref:c};return R.createElement(ee.Provider,{value:d},R.createElement(L.up,{value:(0,P.E)(f,{0:L.ZM.Open,1:L.ZM.Closed})},null!=r&&null!=n&&V({[r]:n}).map((([e,t])=>R.createElement(F,{features:M.Hidden,...(0,w.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,w.sY)({ourProps:g,theirProps:u,slot:y,defaultTag:re,name:"Listbox"})))})),oe=(0,w.yV)((function(e,t){var n;let[r,a]=te("Listbox.Button"),o=(0,N.T)(r.buttonRef,t),i=`headlessui-listbox-button-${(0,C.M)()}`,l=(0,O.G)(),u=(0,W.z)((e=>{switch(e.key){case k.R.Space:case k.R.Enter:case k.R.ArrowDown:e.preventDefault(),a({type:0}),l.nextFrame((()=>{r.propsRef.current.value||a({type:4,focus:A.T.First})}));break;case k.R.ArrowUp:e.preventDefault(),a({type:0}),l.nextFrame((()=>{r.propsRef.current.value||a({type:4,focus:A.T.Last})}))}})),s=(0,W.z)((e=>{e.key===k.R.Space&&e.preventDefault()})),c=(0,W.z)((e=>{if((0,U.P)(e.currentTarget))return e.preventDefault();0===r.listboxState?(a({type:1}),l.nextFrame((()=>{var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),a({type:0}))})),d=S((()=>{if(r.labelRef.current)return[r.labelRef.current.id,i].join(" ")}),[r.labelRef.current,i]),f=(0,R.useMemo)((()=>({open:0===r.listboxState,disabled:r.disabled})),[r]),p=e,v={ref:o,id:i,type:(0,_.f)(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=r.optionsRef.current)?void 0:n.id,"aria-expanded":r.disabled?void 0:0===r.listboxState,"aria-labelledby":d,disabled:r.disabled,onKeyDown:u,onKeyUp:s,onClick:c};return(0,w.sY)({ourProps:v,theirProps:p,slot:f,defaultTag:"button",name:"Listbox.Button"})})),ie=(0,w.yV)((function(e,t){let[n]=te("Listbox.Label"),r=`headlessui-listbox-label-${(0,C.M)()}`,a=(0,N.T)(n.labelRef,t),o=(0,W.z)((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),i=(0,R.useMemo)((()=>({open:0===n.listboxState,disabled:n.disabled})),[n]);return(0,w.sY)({ourProps:{ref:a,id:r,onClick:o},theirProps:e,slot:i,defaultTag:"label",name:"Listbox.Label"})})),le=w.AN.RenderStrategy|w.AN.Static,ue=(0,w.yV)((function(e,t){var n;let[r,a]=te("Listbox.Options"),o=(0,N.T)(r.optionsRef,t),i=`headlessui-listbox-options-${(0,C.M)()}`,l=(0,O.G)(),u=(0,O.G)(),s=(0,L.oJ)(),c=null!==s?s===L.ZM.Open:0===r.listboxState;(0,R.useEffect)((()=>{var e;let t=r.optionsRef.current;!t||0===r.listboxState&&t!==(null==(e=(0,K.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[r.listboxState,r.optionsRef]);let d=(0,W.z)((e=>{switch(u.dispose(),e.key){case k.R.Space:if(""!==r.searchQuery)return e.preventDefault(),e.stopPropagation(),a({type:5,value:e.key});case k.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==r.activeOptionIndex){let{dataRef:e}=r.options[r.activeOptionIndex];r.propsRef.current.onChange(e.current.value)}0===r.propsRef.current.mode&&(a({type:1}),(0,I.k)().nextFrame((()=>{var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,P.E)(r.orientation,{vertical:k.R.ArrowDown,horizontal:k.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),a({type:4,focus:A.T.Next});case(0,P.E)(r.orientation,{vertical:k.R.ArrowUp,horizontal:k.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),a({type:4,focus:A.T.Previous});case k.R.Home:case k.R.PageUp:return e.preventDefault(),e.stopPropagation(),a({type:4,focus:A.T.First});case k.R.End:case k.R.PageDown:return e.preventDefault(),e.stopPropagation(),a({type:4,focus:A.T.Last});case k.R.Escape:return e.preventDefault(),e.stopPropagation(),a({type:1}),l.nextFrame((()=>{var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case k.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(a({type:5,value:e.key}),u.setTimeout((()=>a({type:6})),350))}})),f=S((()=>{var e,t,n;return null!=(n=null==(e=r.labelRef.current)?void 0:e.id)?n:null==(t=r.buttonRef.current)?void 0:t.id}),[r.labelRef.current,r.buttonRef.current]),p=(0,R.useMemo)((()=>({open:0===r.listboxState})),[r]),v=e,h={"aria-activedescendant":null===r.activeOptionIndex||null==(n=r.options[r.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===r.propsRef.current.mode||void 0,"aria-labelledby":f,"aria-orientation":r.orientation,id:i,onKeyDown:d,role:"listbox",tabIndex:0,ref:o};return(0,w.sY)({ourProps:h,theirProps:v,slot:p,defaultTag:"ul",features:le,visible:c,name:"Listbox.Options"})})),se=(0,w.yV)((function(e,t){let{disabled:n=!1,value:r,...a}=e,[o,i]=te("Listbox.Option"),l=`headlessui-listbox-option-${(0,C.M)()}`,u=null!==o.activeOptionIndex&&o.options[o.activeOptionIndex].id===l,{value:s,compare:c}=o.propsRef.current,d=(0,P.E)(o.propsRef.current.mode,{1:()=>s.some((e=>c(e,r))),0:()=>c(s,r)}),f=(0,R.useRef)(null),p=(0,N.T)(t,f);(0,E.e)((()=>{if(0!==o.listboxState||!u||0===o.activationTrigger)return;let e=(0,I.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=f.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[f,u,o.listboxState,o.activationTrigger,o.activeOptionIndex]);let v=(0,R.useRef)({disabled:n,value:r,domRef:f});(0,E.e)((()=>{v.current.disabled=n}),[v,n]),(0,E.e)((()=>{v.current.value=r}),[v,r]),(0,E.e)((()=>{var e,t;v.current.textValue=null==(t=null==(e=f.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[v,f]);let h=(0,W.z)((()=>o.propsRef.current.onChange(r)));(0,E.e)((()=>(i({type:7,id:l,dataRef:v}),()=>i({type:8,id:l}))),[v,l]);let b=(0,W.z)((e=>{if(n)return e.preventDefault();h(),0===o.propsRef.current.mode&&(i({type:1}),(0,I.k)().nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),y=(0,W.z)((()=>{if(n)return i({type:4,focus:A.T.Nothing});i({type:4,focus:A.T.Specific,id:l})})),g=(0,W.z)((()=>{n||u||i({type:4,focus:A.T.Specific,id:l,trigger:0})})),m=(0,W.z)((()=>{n||!u||i({type:4,focus:A.T.Nothing})})),x=(0,R.useMemo)((()=>({active:u,selected:d,disabled:n})),[u,d,n]);return(0,w.sY)({ourProps:{id:l,ref:p,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===d||void 0,disabled:void 0,onClick:b,onFocus:y,onPointerMove:g,onMouseMove:g,onPointerLeave:m,onMouseLeave:m},theirProps:a,slot:x,defaultTag:"li",name:"Listbox.Option"})})),ce=Object.assign(ae,{Button:oe,Label:ie,Options:ue,Option:se});var de=n(9161),fe=n(1905),pe=function(){return pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},pe.apply(this,arguments)},ve={"bottom left":"oFXYv034","bottom right":"Jl5DRf3z","top left":"aacUeHXS","top right":"c68gv_LQ"};function he(e){e.className;var t=e.items,n=e.defaultValue,r=e.onChange,i=e.value,l=e.readonly,u=e.direction,s=void 0===u?"bottom right":u,c=e.label,d=[ve[s]];return(0,a.jsxs)(fe.U,pe({gap:"4"},{children:[c&&(0,a.jsx)("span",{children:"".concat(c,">")},void 0),(0,a.jsxs)(ce,pe({disabled:l,as:"div",className:(0,o.A)("LsvjvEi8",{},[]),value:i,onChange:r},{children:[(0,a.jsx)(ce.Button,pe({disabled:l,className:"qrO2mTX9"},{children:(0,a.jsx)(de.zx,pe({disabled:l},{children:null!=i?i:n}),void 0)}),void 0),(0,a.jsx)(ce.Options,pe({className:(0,o.A)("V57wMCSt",{},d)},{children:null==t?void 0:t.map((function(e){return(0,a.jsx)(ce.Option,pe({value:e.value,disabled:e.disabled,as:R.Fragment},{children:function(t){var n,r=t.active,i=t.selected;return(0,a.jsxs)("li",pe({className:(0,o.A)("mBjSAlwm",(n={},n.lE7gaHdr=r,n.yYTJVDnW=e.disabled,n))},{children:[i&&"!!!",e.content]}),void 0)}}),e.value)}))}),void 0)]}),void 0)]}),void 0)}var be,ye=[{value:u.RUB,content:u.RUB},{value:u.EUR,content:u.EUR},{value:u.USD,content:u.USD}],ge=(0,R.memo)((function(e){var t=e.className,n=e.value,r=e.onChange,o=e.readonly,l=(0,i.$)().t,u=(0,R.useCallback)((function(e){null==r||r(e)}),[r]);return(0,a.jsx)(he,{onChange:u,value:n,defaultValue:l("Укажите валюту"),items:ye,className:t,readonly:o,direction:"top right",label:l("Укажите валюту")},void 0)}));!function(e){e.Russia="Russia",e.Belarus="Belarus",e.Ukraine="Ukraine",e.Kazakhstan="Kazahstan",e.Armenia="Armenia"}(be||(be={}));var me=[{value:be.Armenia,content:be.Armenia},{value:be.Russia,content:be.Russia},{value:be.Belarus,content:be.Belarus},{value:be.Kazakhstan,content:be.Kazakhstan},{value:be.Ukraine,content:be.Ukraine}],xe=(0,R.memo)((function(e){e.className;var t=e.value,n=e.onChange,r=e.readonly,o=(0,i.$)().t,l=(0,R.useCallback)((function(e){null==n||n(e)}),[n]);return(0,a.jsx)(he,{onChange:l,items:me,defaultValue:o("Укажите страну"),value:t,readonly:r,direction:"top right",label:o("Укажите страну")},void 0)}));const Re={ProfileCard:"wW9jgKKD",loading:"t07ZxFGs",error:"i5YK3SSb",editing:"DjTe7269"};var Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Oe.apply(this,arguments)},Ce=function(e){var t,n,r=e.className,l=e.data,u=e.isLoading,s=e.error,c=e.readonly,d=e.onChangeFirstname,f=e.onChangeLastname,p=e.onChangeAge,v=e.onChangeCity,h=e.onChangeAvatar,b=e.onChangeUsername,R=e.onChangeCountry,O=e.onChangeCurrency,C=(0,i.$)("profile").t;if(u)return(0,a.jsx)(fe.U,Oe({justify:"center",max:!0,className:(0,o.A)(Re.ProfileCard,(t={},t[Re.loading]=!0,t),[r])},{children:(0,a.jsx)(m.a,{},void 0)}),void 0);if(s)return(0,a.jsx)(fe.U,Oe({justify:"center",max:!0,className:(0,o.A)(Re.ProfileCard,{},[r,Re.error])},{children:(0,a.jsx)(y.xv,{theme:y.lg.ERROR,title:C("Произошла ошибка при загрузке профиля"),text:C("Попробуйте обновить страницу"),align:y.PH.CENTER},void 0)}),void 0);var E=((n={})[Re.editing]=!c,n);return(0,a.jsxs)(fe.g,Oe({gap:"16",max:!0,className:(0,o.A)(Re.ProfileCard,E,[r])},{children:[(null==l?void 0:l.avatar)&&(0,a.jsx)(fe.U,Oe({justify:"center",max:!0,className:Re.avatarWrapper},{children:(0,a.jsx)(x.q,{src:null==l?void 0:l.avatar},void 0)}),void 0),(0,a.jsx)(g.I,{value:null==l?void 0:l.first,placeholder:C("Ваше имя"),className:Re.input,onChange:d,readonly:c},void 0),(0,a.jsx)(g.I,{value:null==l?void 0:l.lastname,placeholder:C("Ваша фамилия"),className:Re.input,onChange:f,readonly:c},void 0),(0,a.jsx)(g.I,{value:null==l?void 0:l.age,placeholder:C("Ваш возраст"),className:Re.input,onChange:p,readonly:c},void 0),(0,a.jsx)(g.I,{value:null==l?void 0:l.city,placeholder:C("Город"),className:Re.input,onChange:v,readonly:c},void 0),(0,a.jsx)(g.I,{value:null==l?void 0:l.username,placeholder:C("Введите имя пользователя"),className:Re.input,onChange:b,readonly:c},void 0),(0,a.jsx)(g.I,{value:null==l?void 0:l.avatar,placeholder:C("Введите ссылку на аватар"),className:Re.input,onChange:h,readonly:c},void 0),(0,a.jsx)(ge,{className:Re.input,value:null==l?void 0:l.currency,onChange:O,readonly:c},void 0),(0,a.jsx)(xe,{className:Re.input,value:null==l?void 0:l.country,onChange:R,readonly:c},void 0)]}),void 0)},Ee=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.isLoading},je=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.data},Se=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.error},Te=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.readonly},Ne=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.validateErrors},we=n(5461),Pe=n(3942),Ie=n(2276),ke=n(6974),Ae=n(6156),Ue=n(4882),De=n(3574),Le=n(2636),_e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_e.apply(this,arguments)},ze=function(e){var t=e.className,n=(0,i.$)("profile").t,r=(0,Pe.v9)(De.m5),l=(0,Pe.v9)(je),u=(null==r?void 0:r.id)===(null==l?void 0:l.id),s=(0,Pe.v9)(Te),c=(0,we.T)(),d=(0,R.useCallback)((function(){c(h.setReadonly(!1))}),[c]),p=(0,R.useCallback)((function(){c(h.cancelEdit())}),[c]),v=(0,R.useCallback)((function(){c(f())}),[c]);return(0,a.jsxs)(Le.U,_e({max:!0,justify:"between",className:(0,o.A)("",{},[t])},{children:[(0,a.jsx)(y.xv,{title:n("Профиль")},void 0),u&&(0,a.jsx)("div",{children:s?(0,a.jsx)(de.zx,_e({className:"",theme:de.bn.OUTLINE,onClick:d},{children:n("Редактировать")}),void 0):(0,a.jsxs)(Le.U,_e({gap:"8"},{children:[(0,a.jsx)(de.zx,_e({className:"",theme:de.bn.OUTLINE_RED,onClick:p},{children:n("Отменить")}),void 0),(0,a.jsx)(de.zx,_e({className:"",theme:de.bn.OUTLINE,onClick:v},{children:n("Сохранить")}),void 0)]}),void 0)},void 0)]}),void 0)},Me=function(){return Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Me.apply(this,arguments)},Fe={profile:b};const Ve=function(e){var t,n=e.className,u=(0,i.$)("profile").t,s=(0,we.T)(),f=(0,Pe.v9)(d),p=(0,Pe.v9)(Ee),v=(0,Pe.v9)(Se),b=(0,Pe.v9)(Te),g=(0,Pe.v9)(Ne),m=(0,ke.UO)().id,x=((t={})[r.SERVER_ERROR]=u("Серверная ошибка при сохранении"),t[r.INCORRECT_COUNTRY]=u("Некорректный регион"),t[r.NO_DATA]=u("Данные не указаны"),t[r.INCORRECT_USER_DATA]=u("Имя и фамилия обязательны"),t[r.INCORRECT_AGE]=u("Некорректный возраст"),t);(0,Ie.Q)((function(){m&&s(c(m))}));var O=(0,R.useCallback)((function(e){s(h.updateProfile({first:e||""}))}),[s]),C=(0,R.useCallback)((function(e){s(h.updateProfile({lastname:e||""}))}),[s]),E=(0,R.useCallback)((function(e){s(h.updateProfile({city:e||""}))}),[s]),j=(0,R.useCallback)((function(e){s(h.updateProfile({age:Number(e||0)}))}),[s]),S=(0,R.useCallback)((function(e){s(h.updateProfile({username:e||""}))}),[s]),T=(0,R.useCallback)((function(e){s(h.updateProfile({avatar:e||""}))}),[s]),N=(0,R.useCallback)((function(e){s(h.updateProfile({currency:e}))}),[s]),w=(0,R.useCallback)((function(e){s(h.updateProfile({country:e}))}),[s]);return(0,a.jsx)(l.W,Me({reducers:Fe,removeAfterUnmount:!0},{children:(0,a.jsx)(Ae.T,Me({className:(0,o.A)("",{},[n])},{children:(0,a.jsxs)(Ue.g,Me({gap:"16",max:!0},{children:[(0,a.jsx)(ze,{},void 0),(null==g?void 0:g.length)&&g.map((function(e){return(0,a.jsx)(y.xv,{theme:y.lg.ERROR,text:x[e]},e)})),(0,a.jsx)(Ce,{data:f,isLoading:p,error:v,readonly:b,onChangeFirstname:O,onChangeLastname:C,onChangeAge:j,onChangeCity:E,onChangeUsername:S,onChangeAvatar:T,onChangeCurrency:N,onChangeCountry:w},void 0)]}),void 0)}),void 0)}),void 0)}},1150:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(5893),a=n(7294),o=n(3942),i=function(e){var t=e.children,n=e.reducers,i=e.removeAfterUnmount,l=void 0===i||i,u=(0,o.oR)(),s=(0,o.I0)();return(0,a.useEffect)((function(){var e=u.reducerManager.getMountedReducers();return Object.entries(n).forEach((function(t){var n=t[0],r=t[1];e[n]||(u.reducerManager.add(n,r),s({type:"@INIT ".concat(n," reducer")}))})),function(){l&&Object.entries(n).forEach((function(e){var t=e[0];e[1],u.reducerManager.remove(t),s({type:"@DESTROY ".concat(t," reducer")})}))}}),[]),(0,r.jsx)(r.Fragment,{children:t},void 0)}},6925:(e,t,n)=>{n.d(t,{I:()=>l});var r=n(5893),a=n(4611),o=n(7294);var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},l=(0,o.memo)((function(e){var t=e.className,n=e.value,l=e.onChange,u=e.type,s=void 0===u?"text":u,c=e.placeholder,d=e.autofocus,f=e.readonly,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","value","onChange","type","placeholder","autofocus","readonly"]),v=(0,o.useRef)(null),h=(0,o.useState)(!1),b=h[0],y=h[1],g=(0,o.useState)(0),m=g[0],x=g[1],R=b&&!f;return(0,o.useEffect)((function(){var e;d&&(y(!0),null===(e=v.current)||void 0===e||e.focus())}),[d]),{}.fTN1PnWu=f,(0,r.jsxs)("div",i({className:(0,a.A)("LuFDUWoP",{},[t])},{children:[c&&(0,r.jsx)("div",i({className:"emAQQ85i"},{children:"".concat(c,">")}),void 0),(0,r.jsxs)("div",i({className:"y1GiFC_L"},{children:[(0,r.jsx)("input",i({ref:v,type:s,value:n,onChange:function(e){null==l||l(e.target.value),x(e.target.value.length)},className:"LVdIPwcx",onFocus:function(){y(!0)},onBlur:function(){y(!1)},onSelect:function(e){var t;x((null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:f},p),void 0),R&&(0,r.jsx)("span",{className:"lqMFGBuL",style:{left:"".concat(9*m,"px")}},void 0)]}),void 0)]}),void 0)}))},2636:(e,t,n)=>{n.d(t,{U:()=>i});var r=n(5893),a=n(5059),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=function(e){return(0,r.jsx)(a.k,o({},e,{direction:"row"}),void 0)}},6156:(e,t,n)=>{n.d(t,{D:()=>p,T:()=>v});var r=n(5893),a=n(4611),o=n(7294),i=n(5461),l=(0,n(2222).P1)((function(e){return e.ui.scroll}),(function(e,t){return t}),(function(e,t){return e[t]||0})),u=n(7217),s=n(6974),c=n(2276),d=n(3942);var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)},p="PAGE_ID",v=(0,o.memo)((function(e){var t=e.className,n=e.children,v=e.onScrollEnd,h=(0,o.useRef)(),b=(0,o.useRef)(),y=(0,i.T)(),g=(0,s.TH)().pathname,m=(0,d.v9)((function(e){return l(e,g)}));!function(e){var t=e.callback,n=e.wrapperRef,r=e.triggerRef,a=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=n.current,o=r.current;if(t){var i={root:e,rootMargin:"0px",threshold:1};a.current=new IntersectionObserver((function(e){e[0].isIntersecting&&t()}),i),a.current.observe(o)}return function(){a.current&&o&&a.current.unobserve(o)}}),[t,r,n])}({triggerRef:b,wrapperRef:h,callback:v}),(0,c.Q)((function(){h.current.scrollTop=m}));var x,R,O=(x=function(e){y(u.Aw.setScrollPosition({position:e.currentTarget.scrollTop,path:g}))},500,R=(0,o.useRef)(!1),(0,o.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];R.current||(x.apply(void 0,e),R.current=!0,setTimeout((function(){R.current=!1}),500))}),[x,500]));return(0,r.jsxs)("main",f({ref:h,className:(0,a.A)("a83jDcrK",{},[t]),onScroll:O,id:p},{children:[n,v?(0,r.jsx)("div",{ref:b,className:"VaPQ__zP"},void 0):null]}),void 0)}))},5461:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(3942),a=function(){return(0,r.I0)()}},2276:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(7294);function a(e){(0,r.useEffect)((function(){e()}),[])}},1905:(e,t,n)=>{n.d(t,{U:()=>r.U,g:()=>a.g});var r=n(2636),a=n(4882)}}]);